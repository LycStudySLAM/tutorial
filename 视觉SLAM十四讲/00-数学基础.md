# 线性代数基础

## 行列式

n阶方阵都具有其行列式运算，行列式运算法则也比较简单，按行按列展开代数余子式即可，一般记作det

## 向量

一般向量表示n行1列的列向量，行向量为其转置，表示如下
$$
x=\begin{bmatrix}x_1\\x_2\\..\\x_n\end{bmatrix}\quad\quad\quad
x^T=\begin{bmatrix}x_1&x_2&...&x_n\end{bmatrix}
$$
矩阵则可以视为行向量或列向量的集合

## 矩阵

### 运算

#### 矩阵乘法

$$
A\in R^{m\times n},B\in R^{n\times p}，则有C=AB\in R^{m\times p}\\
且有C_{i,j}=\displaystyle\sum\limits_{k=1}^n A_{i,k}B_{k,j}
$$

向量相乘本质上和矩阵相乘没有区别，因为可以当做n行1列的矩阵

注意，矩阵乘法不可交换

#### 矩阵转置

关于主对角线对称的元素互换

#### 矩阵的迹

矩阵的迹定义如下
$$
tr(A)=\sum\limits_{i=1}^n A_{ii}
$$
即是主对角线元素的和。

显然，矩阵转置前后迹不变，迹运算还满足交换律和结合律以及标量相乘的基本性质

#### 范数

$$
||x||_2=\sqrt{\sum\limits_{i=1}^n x_i^2}\\
||x||_1=\sum\limits_{i=1}^n|x_i|
$$

上面是L2范数和L1范数的定义，除此之外还有很多范数定义，范数主要是提供一个标量化操作

### 定义

#### 单位矩阵和对角矩阵

单位矩阵是主对角线全为1，其余全为0的矩阵；对角矩阵是除对角元素外全为0的矩阵

分别记为
$$
I=diag\{1,1,...1\}\\
D=diag\{d_1,d_2,...d_n\}
$$

#### 对称矩阵

任意方阵都可以分解为以下两部分
$$
A=\frac{1}{2}(A+A^T)+\frac{1}{2}(A-A^T)
$$
其中，第一项称为对称的，第二项称为反对称的

分别满足
$$
A=A^T\\
A=-A^T
$$

#### 线性相关与线性无关

一组向量x1,x2,...,xn，如果每一个向量都不可表示为其余向量的线性组合，称这组向量是线性无关的，否则是线性相关的

#### 矩阵的秩

对于一个矩阵，可以把它当成列向量的集合或者是行向量的集合，当成列向量的集合时，称这组列向量中线性无关向量集合为线性无关组，最大线性无关组的长度记为列秩，对于行向量也有同样的定义，而且对于同一个矩阵，列秩等于行秩等于矩阵的秩，记作rank，如果矩阵的秩与其维度较小的那一个相等，那么称其为满秩矩阵

#### 方阵的逆

如果有式满足
$$
AB=BA=I
$$
那么称B是A的逆（A是B的逆），可以记作
$$
B=A^{-1}\quad\quad A=B^{-1}
$$
如果一个方阵没有逆，就称其为不可逆的或是奇异的。非方阵和非满秩矩阵没有逆

#### 正交矩阵

首先给出向量正交的定义如下
$$
x^Ty=0
$$
如果矩阵的列向量/行向量集合为一组正交的向量，且都是单位向量，那么，称该矩阵为正交矩阵（一般指方阵）

正交矩阵有下面的性质
$$
AA^T=A^TA=I\\
A^{-1}=A^T\\
|A|=±1
$$
如果不是方阵，则上面三式中只有第一式满足其中的一项（需要看行列维度来定）

#### 二次型和正定性

记
$$
f(x)=a_{11}x_1^2+a_{12}x_1x_2+...a_{1n}x_1x_n+...+a_{n1}x_nx_1+...a_{nn}x_n^2\\
$$
为n元二次型，如果只有平方项，为标准二次型。（几何上，一元二次型为二次函数，二元二次型为曲面...）

其矩阵表示法为
$$
X^TAX
$$
x是一个列向量，A是一个实对称矩阵。显然，这个式子的结果是一个标量。
$$
X=\begin{bmatrix}x_1\\x_2\\..\\x_n\end{bmatrix}\quad\quad\quad
X^T=\begin{bmatrix}x_1&x_2&...&x_n\end{bmatrix}\quad\quad\quad
A=
\begin{bmatrix}
a_{11}&...&a_{1n}\\
..&..&..\\
a_{n1}&..&a_{nn}
\end{bmatrix}\\
X^TA=
\begin{bmatrix}
a_{11}x_1+...+a_{n1}x_n&
a_{12}x_1+...+a_{n2}x_n&
...&
a_{1n}x_1+...+a_{nn}x_n
\end{bmatrix}\\
X^TAX=a_{11}x_1^2+...+a_{n1}x_nx_1+...+a_{1n}x_1x_n+...a_{nn}x_n^2
$$
如果对于任意非零向量x，该式>0，称矩阵A正定，≥0，半正定，<0，负定，

若对部分x>0，另一部分x<0，不定

#### 矩阵相似

$$
B=P^{-1}AP
$$

P为可逆矩阵，则称A与B相似，如果相似到一个对角矩阵
$$
\Lambda = P^{-1}AP
$$
则称为相似对角化，其中P由各个特征向量的列向量组合而成，对角矩阵的元素由各个特征值组成

#### 特征值和特征向量

给定方阵A，如果
$$
Ax=\lambda x
$$
称向量x是方阵A的特征向量，λ是方阵A的特征值

这要求
$$
|A-\lambda I|=0
$$
其有两个特殊的性质

①方阵A的迹等于特征值之和

②方阵A的行列式等于特征值的乘积

如果是**实对称矩阵**，则所有的特征值都是实数





# 矩阵求导

## 向量函数的梯度（标量对向量求导）

$$
f：R^{n}\rightarrow R,\nabla_xf=
\begin{bmatrix}
\frac{\partial f(x)}{\partial x_1}&
\frac{\partial f(x)}{\partial x_2}&
...&
\frac{\partial f(x)}{\partial x_n}
\end{bmatrix}
$$

可以看得出，上面这个就是多元函数的梯度，其中x1,x2...,xn为多元变量，也可以记为一个向量，f是一个从向量到标量的映射。

## **向量值函数的梯度（向量对向量求导）**

$$
f：R^n\rightarrow R^m,
x=[x_1,x_2,...,x_n]\in R^n,
y=[y_1,y_2,...,y_m]\in R^m,\\
J=\begin{bmatrix}
\frac{\partial y_1}{\partial x_1}&
...&
\frac{\partial y_1}{\partial x_n}\\
...&...&...\\
\frac{\partial y_m}{\partial x_1}&
...&
\frac{\partial y_m}{\partial x_n}
\end{bmatrix}_{m\times n}
$$

向量值函数与上面的向量函数还是有区别的，区别在于不再是从一个多元变量（向量）映射到一个标量，而是从一个向量映射到另一个向量，比如从直角三轴坐标系到球三轴坐标系的三元变量（向量）的映射，其梯度就是上述雅可比矩阵。

可以说，向量函数梯度是向量值函数梯度的一个特例，其特殊在于映射到一个长度为1的向量

## 黑塞矩阵（多元函数的二阶导/标量对向量求二阶导）

$$
f：R^n\rightarrow R,\nabla_x^2f(x)=\begin{bmatrix}\frac{\partial^2 f(x)}{\partial x_1^2}&...&\frac{\partial^2 f(x)}{\partial x_1x_n}\\...&...&...\\\frac{\partial^2 f(x)}{\partial x_nx_1}&...&\frac{\partial^2 f(x)}{\partial x_n^2}\end{bmatrix}
$$

其中，x为一个向量，映射值f(x)是一个标量，本质上就是一个多元函数的二阶导数

## 矩阵函数的梯度（标量对矩阵求导）

$$
f：R^{m\times n}\rightarrow R,\quad\nabla_A f(A)=
\begin{bmatrix}
\frac{\partial f(A)}{\partial A_{1,1}}&...&
\frac{\partial f(A)}{\partial A_{1,n}}\\...&...&...\\
\frac{\partial f(A)}{\partial A_{m,1}}&...&
\frac{\partial f(A)}{\partial A_{m,n}}\\
\end{bmatrix}
$$

很容易看出，当m为1时，退化到向量函数的梯度

## 参考

[矩阵求导简介 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/137702347)





# 矩阵分解

## 幺正矩阵/酉矩阵

指的是其共轭转置与其逆一致的一类矩阵（实矩阵里就是正交矩阵）
$$
UU^{*T}=U^{*T}U=I
$$

## 相似对角化

如果A是方阵，参考矩阵相似对角化，显然有
$$
A=W\Sigma W^{-1}\\
其中，\Sigma 为相似的对角矩阵，对角元素为特征值，W为与特征值对应的特征向量张成的矩阵
$$
由于W是特征向量张成的矩阵，故而各列向量线性无关，将其进行正交化使其称为一个正交矩阵，便有
$$
W^T=W^{-1}
$$
此时
$$
A=W\Sigma W^T
$$

## SVD分解

如果矩阵A并不是方阵，而是一个m*n的矩阵，这时就需要用到SVD分解
$$
A=U\Sigma V^T\\
其中，U是m维方阵，\Sigma是m\times n的矩阵，V是n维方阵
$$
并且
$$
UU^T=VV^T=I
$$
也就是说，U,V都是么正矩阵

怎么求出SVD分解的三个矩阵呢？

显然
$$
A^TA\in R^{n\times n}\quad AA^T\in R^{m\times m}
$$
这两个矩阵分别进行相似对角化，可以分别得到特征向量张成的矩阵V,U,再根据下式
$$
AV=U\Sigma
$$
即可求得奇异值矩阵

## QR分解

$$
A=QR\\
A\in R^{m\times n},Q\in R^{m\times m},R\in R^{m\times n}
$$

其中Q是正规正交矩阵，R是上三角矩阵

## 伪逆矩阵

对于可逆的方阵，求逆自然是比较简单的，如果方阵奇异，或者根本不是方阵，怎么快速解方程Ax=b呢

根据SVD分解
$$
A=U\Sigma V^T
$$
这时求其伪逆
$$
A^+=V\Sigma^+U^T
$$
则可以绕过不可求逆这一步的障碍，进行直接求解了

QR分解也有类似的做法，本质上在求线性方程组和最小二乘问题上绕过了不可求逆这一步的障碍





# 概率论基础

## 概率

### 概率公理及概率的基本性质

### 条件概率及独立

$$
P(A|B)=\frac{P(AB)}{P(B)}
$$

该式表示在B发生后AB同时发生的概率，若AB两事件独立
$$
P(A)=P(A|B),P(AB)=P(A)P(B)
$$

## 单个随机变量的情况

### 随机变量

随机变量记为X，根据变量的离散和连续性质，分为离散型随机变量和连续型随机变量

### 分布函数

$$
F_X(x)=P(X<x)
$$

其中X是随机变量，这表示随机变量值小于某定值的概率

### 概率质量函数

$$
P_X(x)=P(X=x)
$$

用于离散型随机变量，除了离散处，其余位置概率均为0

### 概率密度函数

$$
f_X(x)=\frac{dF_X(x)}{dx}\\
\int_{-\infty}^\infty f_X(x)dx=1
$$

用于连续型随机变量，对于每一处均有值，每一处代表的概率都为0（只有有积分域才大于0）

### 期望与方差

## 两个随机变量的情况

### 联合分布

$$
F_{XY}(x,y)=P(X<x,Y<y)\\
\lim_{x,y \to \infty} F_{XY}(x,y)=1\\
\lim_{x,y \to -\infty} F_{XY}(x,y)=0\\
$$

### 联合概率密度函数

$$
f_{XY}(x,y)=\frac{\partial^2 F_{XY}(x,y)}{\partial x \partial y}\\
\iint\limits_{R}f_{XY}(x,y)dxdy=1
$$



### 边缘概率密度函数

$$
F_X(x)=\lim_{y \to \infty} F_{XY}(x,y)=\int\limits_{R}f_{XY}(x,y)dy\\
F_Y(y)=\lim_{x \to \infty} F_{XY}(x,y)=\int\limits_{R}f_{XY}(x,y)dx
$$

### 条件概率密度函数

离散情况下
$$
P_{Y|X}(y|x)=\frac{P_{XY}(x,y)}{P_X(x)}
$$
连续情况下
$$
f_{Y|X}(y|x)=\frac{f_{XY}(x,y)}{f_X(x)}
$$

### 期望，方差，协方差

### 贝叶斯定理

$$
f_{Y|X}(y|x)=\frac{f_{XY}(x,y)}{f_X(x)}=
\frac{f_{X|Y}(x|y)f_Y(y)}{\int_{-\infty}^\infty f_{X|Y}(x|y')f_Y(y')dy'}
$$

# 二维刚体运动方程推导

设在同一坐标系下，旋转一个向量a，则旋转矩阵如下
$$
R=\begin{bmatrix}
cos\theta&-sin\theta\\
sin\theta&cos\theta
\end{bmatrix}
$$
如果表达的是坐标系变换，由坐标系1到坐标系2的旋转矩阵R如下
$$
R=\begin{bmatrix}
cos\theta&sin\theta\\
-sin\theta&cos\theta
\end{bmatrix}
$$
上面的θ都是逆时针旋转的，第一个指的是向量逆时针旋转的角度，第二个指的是第一个坐标系逆时针旋转得到第二个坐标系的角度

很显然，二维旋转矩阵也都是正交的，可以通过其转置得到逆变换

二维刚体运动方程如下
$$
a_2=R_{21}a_1+t_{21}
$$
其中旋转矩阵为由坐标系1变换到坐标系2的矩阵，平移变量表示由坐标系2原点指向坐标系1原点的向量

与三维刚体运动类似，也可以写出它的变换矩阵
$$
T=\begin{bmatrix}
cos\theta&sin\theta&t_x\\
-sin\theta&cos\theta&t_y\\
0&0&1
\end{bmatrix}
$$
此时二维刚体运动方程为
$$
\begin{bmatrix}a_2\\1\end{bmatrix}=T_{21}\begin{bmatrix}a_1\\1\end{bmatrix}
$$
